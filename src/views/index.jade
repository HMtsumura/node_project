extends layout

block content
  include header
  include error_message
  h1= title
  if isAuth
    div.container
      h2 Tasks
      ul.tasks 
        each t in tasks
          div.row
            div.col-md-6
              li
                form(action="update" method="post")
                  input(type='hidden' name='id' value=t.id)
                  input(
                    type='checkbox'
                    name='done'
                    checked=t.done
                    onclick="this.closest('form').submit();"
                  )

                span.task= t.task 

                form(action="delete" method="post")
                  input(type='hidden' name='id' value=t.id)
                  button.delete X
      div.col-md-6
        div.newtask
          form(action="create" method="post")
            input(type='text' name='task')
            button.btn.btn-primary(type='submit') Add
  else
    h1 Welcome to TodoApp
    a.btn.btn-primary(href="/signup" role="button") Sign up!